跨域-生存笔记

# 1. 跨域的来由 #
CSRF攻击引发的灾害  
我们发起的每一次HTTP请求都会带上请求地址对应cookie，那么黑客可以做如下攻击：用户登录了自己的银行页面 http://mybank.com，http://mybank.com向用户的cookie中添加用户标识。有一天，用户浏览了恶意页面 http://evil.com。执行了页面中的恶意AJAX请求代码。http://evil.com向http://mybank.com发起AJAX HTTP请求，请求会默认把http://mybank.com对应cookie也同时发送过去。银行页面从发送的cookie中提取用户标识，验证用户无误，response中返回请求数据。此时数据就泄露了。而且由于Ajax在后台执行，用户无法感知这一过程。

解决方案：AJAX同源策略主要用来防止CSRF攻击

DOM同源策略也一样，如果iframe之间可以跨域访问，可以这样攻击：